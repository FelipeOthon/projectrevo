#=============================================================
# Network settings
#=============================================================
# Сетевые настройки сервера
#=============================================================

#-------------------------------------------------------------
# To modify network settings, see the file hostsconfig.xml
#-------------------------------------------------------------
# Для редактирования сетевых настроек, смотрите файл hostsconfig.xml
#-------------------------------------------------------------

#=============================================================
# Database properties
#=============================================================
# Настройки базы данных
#=============================================================

#-------------------------------------------------------------
# Database connection properties
#-------------------------------------------------------------
# Настройки подключения к базе
#-------------------------------------------------------------
DATABASE_HOST = localhost
DATABASE_PORT = 3306
DATABASE_LOGIN = root
DATABASE_PASSWORD =
DATABASE_NAME = l2game

#-------------------------------------------------------------
# Automatic update the database
#-------------------------------------------------------------
# Автоматическое обновление базы данных
#-------------------------------------------------------------
DATABASE_AUTOUPDATE = True

#-------------------------------------------------------------
# Database connection properties (For advanced users)
#-------------------------------------------------------------
# Настройки подключения к базе (Для опытных пользователей)
#-------------------------------------------------------------
# DATABASE_DRIVER = com.mysql.cj.jdbc.Driver
# DATABASE_URL = jdbc:mysql://localhost:3306/l2game?useUnicode=true&characterEncoding=utf-8&useSSL=false&serverTimezone=UTC

#-------------------------------------------------------------
# Максимальное количество соединений с базой
#-------------------------------------------------------------
MaximumDbConnections = 50
# Через сколько секунд после последней активности будут закрыватся соединения с базой, по умолчанию 600 (10 минут)
# Данный параметр важно согласовывать с настройками в самом mysql сервере, параметр interactive_timeout (по умолчанию 28800 (8 часов))
MaxIdleConnectionTimeout = 600
# Интервал проверки неактивных соединений, по умолчанию 60 (1 минута)
# При условии стабильного соединения с базой и корректной настроки MaxIdleConnectionTimeout, можно выставлять -1 (не проверять)
IdleConnectionTestPeriod = 60

#=============================================================
# Auth server database properties
#=============================================================
# Настройки базы данных логин сервера
#=============================================================

#-------------------------------------------------------------
# Database connection properties
#-------------------------------------------------------------
# Настройки подключения к базе
#-------------------------------------------------------------
AUTH_DATABASE_HOST = localhost
AUTH_DATABASE_PORT = 3306
AUTH_DATABASE_LOGIN = root
AUTH_DATABASE_PASSWORD =
AUTH_DATABASE_NAME = l2auth

#-------------------------------------------------------------
# Database connection properties (For advanced users)
#-------------------------------------------------------------
# Настройки подключения к базе (Для опытных пользователей)
#-------------------------------------------------------------
# AUTH_DATABASE_DRIVER = com.mysql.cj.jdbc.Driver
# AUTH_DATABASE_URL = jdbc:mysql://localhost:3306/l2auth?useUnicode=true&characterEncoding=utf-8&useSSL=false&serverTimezone=UTC

#-------------------------------------------------------------
# Максимальное количество соединений с базой
#-------------------------------------------------------------
AUTH_DATABASE_MAX_CONNECTIONS = 3

#-------------------------------------------------------------
# Bans check interval for kick players in minutes (Default: 5 minutes)
#-------------------------------------------------------------
# Интервал проверки банов для кика игроков в минутах (Базово: 5 минут)
#-------------------------------------------------------------
CHECK_BANS_INTERVAL = 5


#-------------------------------------------------------------
# Access on server with PA only (Default: False)
#-------------------------------------------------------------
# Доступ на сервер только с наличием ПА (Базово: False)
#-------------------------------------------------------------
ACCESS_WITH_PA_ONLY = False

Addon = False

# Битовая маска HWID:
# 1 - MAC
# 2 - HDD
# 4 - BIOS
# 8 - CPU
# Пример: MaskHWID = 10 (HDD[2] + CPU[8] = 10)
MaskHWID = 14

# Позволяет существенно ускорить работу стекуемых вещей, откладывая обращения в бд (time in millisec)
LazyItemUpdate = True
LazyItemUpdateAll = False
LazyItemUpdateTime = 60000
LazyItemUpdateAllTime = 60000

# Активировать антифлуд пакетов из конфигурации floodprotect.properties *VIP*
EnablePacketFloodProtector = False

UserInfoInterval = 100
BroadcastCharInfoInterval = 100

ApasswdTemplate=[A-Za-z0-9]{4,16}

# Запрещать создавать персонажей с длинной имени менее 3 или более 16 символов
OffNameLength = True
# Запрещенные имена *VIP*
CnameDenyTemplate = (adm)|(admin)
# Character name
#CnameTemplate=([0-9A-Za-z]{3,16})|([0-9\u0410-\u044f]{3,16})
#CnameTemplate=^[A-Za-z0-9]{3,16}$|^[\u0410-\u042f\u0430-\u044f0-9]{3,16}$
CnameTemplate=[A-Za-z0-9]{3,16}
# Clan name
ClanNameTemplate=[A-Za-z0-9]{3,16}
# Clan title
ClanTitleTemplate=([0-9A-Za-z \\p{Punct}]{1,16})|([0-9\u0410-\u044f \\p{Punct}]{1,16})
# Ally name
AllyNameTemplate=[A-Za-z0-9]{3,16}

#-------------------------------------------------------------
# Maximum number of characters per account
# (Default: 7)
#-------------------------------------------------------------
# Максимальное количество персонажей на аккаунте
# (Базово: 7)
#-------------------------------------------------------------
MAX_CHARACTERS_NUMBER_PER_ACCOUNT = 7

#-------------------------------------------------------------
# Настройки отображения сереров
#-------------------------------------------------------------
# NORMAL;RELAX;TEST;NO_LABEL;RESTRICTED;EVENT;FREE
ServerType=NORMAL
# Лимит по возрасту
ServerAgeLimit = 0
# Сервер только для гейм-мастеров
ServerGMOnly = False
# Отображать [] перед названием сервреа
ServerBrackets = False
# ПвП сервер?
PvPServer = False
ServerListClock = False
TestServer = False

# Define how many players are allowed to play simultaneously on your server.
MaximumOnlineUsers=8000

# Стартовый размер списка предметов всего мира
MaxItems = 150000

Debug = False

# Минимальная и максимальная версия протокола клиента, с которой можно коннектиться к серверу.
# Соблюдайте правило: MinProtocolRevision <= MaxProtocolRevision.
# protocol - Interlude (709-746)
MinProtocolRevision = 746
MaxProtocolRevision = 746

# Рейты спавна мобов
RateMobSpawn = 1
# Минимальный уровень для действия RateMobSpawn
RateMobMinLevel = 1
# Максимальный уровень для действия RateMobSpawn
RateMobMaxLevel = 100

# Множитель регенерации HP для рейдов
RateRaidRegen = 1.
# Максимальная разница в уровнях между атакующими и рейдом, при которой не применяется пенальти
RaidMaxLevelDiff = 8
# Парализовывать ли чаров если они пытаются бить рейдов слишком маленького для себя уровня
ParalizeOnRaidLevelDiff = True
# Запретить спаун более одного рейд босса (отключать на живом сервере не рекомендуется)
RaidOneSpawn = True

# Автоудаление лежащих на земле вещей, время в секундах, 0 - не удалять, рекомендуется 3600 (1 час)
AutoDestroyDroppedItemAfter = 3600

# Склад, фрахт, приватная торговля - можно выключить, если захочется
AllowWarehouse = True
AllowFreight   = True
AllowPrivateStore = True
AllowManufacture = True

# Можно ли игрокам кидать вещи на землю
AllowDiscardItem = True
# Может ли GM кидать вещи на землю (игнорируется при AllowDiscardItem = True)
AllowDiscardItemGM = False

# Включена ли вода (если включена геодата обязательно включить)
AllowWater = True

# Выдавать ли всем игрокам права администратора (удобно для тестовых серверов)
# Шаблон с привилегиями находятся в файле GMAccess.xml, для PlayerID set="0"
EverybodyHasAdminRights = False

# Basic protection against L2Walker
L2WalkerProtection = False

# Punishment if account using cheat
# 0 - none
# 1 - kick
# 2 - ban
BugUserPunishment = 2
IllegalActionPunishment = 1

# Закрывает клиентское соединение после получения от клиента больше указанного количества кривых/неизвестных пакетов
MaxFailedPackets = 10
MaxUnknownPackets = 10

LogKills = False
LogItems = True

# =================================================================
# Community board configuration
# =================================================================
AllowCommunityBoard = True
BBSDefault = _bbshome
CommunityBoardHtmlRoot = CommunityBoard/
NamePageSizeOnCommunityBoard = 50
NamePerRowOnCommunityBoard   = 5

# Minimum and maximum variable in seconds for npc animation delay.
# You must keep MinNPCAnimation <= MaxNPCAnimation.
# "0" is default value.
MinNPCAnimation = 30
MaxNPCAnimation = 90

# Удалять мусор в записях состояний квестов, лучше включить
AutoDeleteInvalidQuestData = True

# Размер пула потоков, для выполнения запланированных задач, рекомендуемое значение: CPU x 4
ScheduledThreadPoolSize = 16
# Размер пула потоков, для незамедлительного выполнения задач, рекомендуемое значение: CPU x 2
ExecutorThreadPoolSize = 8
# Сбор статистики запусков, создания и времени выполнения задач
EnableRunnableStats = False

#-------------------------------------------------------------
# Настройки сетевого обмена
#-------------------------------------------------------------
# Время простоя основного потока обработки соединений, операций чтения/записи
SelectorSleepTime = 3
# Задержка перед установкой интересуемого действия
InterestDelay = 30
# Максимальное количество пакетов для отправки за один проход
MaxSendPerPass = 32
# Размер буфера для чтения
ReadBufferSize = 65536
# Размер буфера для записи
WriteBufferSize = 131072
# Размер пула для временных буферов чтения/записи
BufferPoolSize = 64
# Количество менеджеров для работы с эффектами
EffectTaskManagers = 1

# 2 - все диалоги кешируются при загрузке сервера
# 1 - диалоги кешируются по мере обращения
# 0 - кеширование отключено (только для тестирования)
HtmCacheMode = 1

#-------------------------------------------------------------
# Настройки языка
#-------------------------------------------------------------
# Следующие значения могут быть изменены пользователями из игры командой .lang, устанавливается значение по умолчанию
# Брать ли язык из клиента (При true, конфиг DefaultLang игнорируется)
UseClientLang = False
# Default dialogs language
# Язык диалогов по умолчанию, возможные варианты: KOREAN, ENGLISH, JAPANESE, CHINESE_TW, CHINESE, THAI, PHILIPPINE, INDONESIAN, RUSSIAN, ENGLISH_EU, GERMAN, FRENCH, POLISH, TURKISH, PORTUGUESE, SPANISH, ARABIC, GREEK, GEORGIAN, HUNGARIAN, FINNISH, UKRAINIAN, VIETNAMESE
DefaultLang = ENGLISH
# Available languages: KOREAN, JAPANESE, CHINESE_TW, CHINESE, THAI, PHILIPPINE, INDONESIAN, ENGLISH_EU, GERMAN, FRENCH, POLISH, TURKISH, PORTUGUESE, SPANISH, ARABIC, GREEK, GEORGIAN, HUNGARIAN, FINNISH, UKRAINIAN, VIETNAMESE (ENGLISH and RUSSIAN is base languages)
# Example: AVAILABLE_LANGUAGES = PORTUGUESE;SPANISH;GREEK
AVAILABLE_LANGUAGES = 

# Команда смены языка (можно менять на любую незанятую команду)
CommandLang = lang

# Таймер на удаление чаров, 0 удалять сразу
DeleteCharAfterDays = 1

# Частота вызова пурджера байпасов, в секундах
PurgeTaskFrequency = 60

# Авторестарт через заданный промежуток времени в часах (для отключения 0)
AutoRestart = 0

# Ежесуточный авторестарт по расписанию (для отключения -1)
# Указывать ровный час суток, конструкции типа 5:30 не работают
AutoRestartAt = 5
# Минуты заданного часа авторестарта (от 0 до 59)
AutoRestartAtMins = 0

# Show message when GM Login and GM will not invis/silence as default
ShowGMLogin = False

# Сохранять ГМам эффекты silence, gmspeed, invul и т.д.
SaveGMEffects = False

#-------------------------------------------------------------
# Настройки регионов игрового мира
#-------------------------------------------------------------
# Весь мир поделен на регионы, размер региона в клиенте равен размеру карты, а именно 32768x32768, диапазон Z от -32768 до 32767, идентификация карт в клиенте имеет вид XX_YY.
# Для более удобной работы с объектами на сервере, мир поделен на регионы, как по горизонтали так и по вертикали. Размер региона и ближайших его соседей соотвествует области видимости игрока.
# При настройке следует помнить: чем меньше размер региона, тем меньше нагрузка на процессор, тем меньше область видимости игрока, тем меньше исходящего трафика, но тем больше потребление памяти
# Данный параметр определяет размер региона по горизонтали: 1 << n,  при значении n = 15 - соответсвует размеру карты клиента,  при значении 12 размер равен 4096, 11 - 2048
HShift = 11
# Данный параметр определяет высоту региона по вертикали, при значении 10 - высота равна 1024
VShift = 11
# Ограничение координат по высоте для всего мира, т.к. в мире не используется весь диапазон от -32768 до 32767, его можно сократить до -16384 .. 16383, тем самым сэкономить память
MapMinZ = -32768
MapMaxZ = 32767

# Настройки проклятого оружия
# Будет ли дропаться проклятое оружие с мобов
AllowCursedWeapons = True
# Дропать проклятое оружие с владельца, если он покидает игру
DropCursedWeaponsOnKick = False
# Сбрасывать статы проклятого оружия при каждом его поднятии
ResetCursedWeapons = False

# Включить корабли
AllowBoat = True
# Радиус рассылки информационных сообщений о кораблях
BoatBroadcastRadius = 10000

# Отключить загрузку спауна
StartWithoutSpawn = False
# Отключить загрузку квестов
StartWithoutQuest = False

# Загружать скрипты из data/scripts (файлы .java)
JavaScripts = True

# Задержка на повторное использование пакетов движения и атаки
MovePacketDelay = 100
AttackPacketDelay = 500

# Глубина видимости (количество видимых регионов). От 1 и более
ViewOffset = 1
# Размер региона. Менять с учетом ViewOffset
DivBy = 2048
DivByForZ = 1024
# Максимальное количество ближайших npc для видимости (0 - отключено)
NpcShowLimit = 0

# Номера квадратов геодаты с вертикальным разделением регионов (густонаселенные многоэтажные локации)
# Cruma Tower, Swamp of Screams, Garden of Eva, Tower of Insolence, Forge of the Gods, Imperial Tomb, Giant's Cave
VerticalSplitRegions = 20_21;22_16;22_25;23_18;25_14;25_15;25_19;24_23

# Список скилов, которые не будем отнимать у игроков при входе
VipSkills = 4303,4304,4305,4306,4307,4308,4309

DatapackRoot = .